<html lang="en">
<style>
  .procedure, .diagnosis, .medication, .anatomy, .other{
    border-bottom: 2px solid transparent;
    transition: border 1s linear;
  }

  .word {
  cursor: pointer;
  }

  .procedure{
    border-bottom-color: black;
  }

  .diagnosis{
    border-bottom-color: green;
  }

  .medication{
    border-bottom-color: red;
  }

  .anatomy{
    border-bottom-color: blue;
  }

  .other{
    border-bottom-color: #871F78;
  }

  .footer {
    /*position:absolute;*/
    bottom:-200;
    width:100%;
    height:40px;      /* Height of the footer */
    left: 0px;
    background:#6cf;
  }

  .menu {
    border-left: 1px solid transparent;
    border-left-color: gray;
    transition: border 1s linear;
  }


  .foo {
    float: left;
    width: 20px;
    height: 19px;
    margin: 0px;
    border: 2px solid rgba(0, 0, 0, 0.336);
  }

  .black {
    background: #000000;
  }

  .green {
    background: #00661a;
  }

  .red {
    background: #cc0404;
  }

  .blue {
    background: #0400dbf6;
  }

  .purple {
    background: #871F78;
  }

  .br {
    line-height: 150%;
  }
</style>
  <head>

    <script type="text/javascript">
      function sublinhar(k){
                var elemento = document.getElementById(k); 
                var conteudo = $('#'+k).text();  
                var classe =  document.getElementById('auxiliar').getAttribute("class");

                if(elemento.className.indexOf(classe) != -1){
                      elemento.className = "word"; 
                  }   
                else{
                  if ( document.getElementById('auxiliar').getAttribute("class") != 'aux' ){
                      elemento.className = classe+" word"; 
                      jQuery("#nome").html("Conteudo: "+conteudo);
                      jQuery("#id").html("ID: "+k);
                      salva_informacoes(k, conteudo, classe)
                  }
                } 
      }

      function pega_sublinhado(k){
                var elemento = document.getElementById('auxiliar');  

                elemento.className = k; 
      }

      function salva_informacoes(ID, nome, classe)
      {
            var idElemento = []
            idElemento[0] =  'diagnosis_';
            idElemento[1] =  'medication_';
            idElemento[2] =  'procedure_';
            idElemento[3] =  'anatomy_';
            idElemento[4] =  'other_';

            var tipo

            for(var i=0; i<5; i++)
            {
                if(classe+"_" == idElemento[i])
                {
                  tipo =  idElemento[i];
                }
                verifica_vetores(idElemento[i], ID+"-"+nome);
            }
            if(document.getElementById(tipo).className != 'aux')
              document.getElementById(tipo).className = document.getElementById(tipo).className+ID+"-"+nome+"_";
            else
              document.getElementById(tipo).className = ID+"-"+nome+"_";

      }

      function verifica_vetores(idElemento, valor){
        elemento = document.getElementById(idElemento)

        controla = elemento.getAttribute("class")

        var valores = elemento.getAttribute("class")

        if(valores != null)
        {
            var vetor = valores.split("_");
            var cont = 0;
            var new_vetor = [];

            for(var i=0; i<vetor.length;i++)
            {              
              if (vetor[i] != valor)
              {
                new_vetor[cont++] = vetor[i]
                alert("Vetor: "+vetor[i]+"Valor: "+valor)
              }
            }

            if(cont!=0)
            {
              valores = new_vetor.join();
              document.getElementById(idElemento).className = valores
              cont = 0;

              //for(var i=0; i<new_vetor.length;i++)
                //controla.innerHTML = controla.innerHTML + new_vetor[i] + "<br>";

            }
        }
    }


    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>MeSHx-Notes</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!--ajax start -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">MeSHx-Notes</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">

            <li class="nav-item">
              {% if indice_retornar != -1 %}
              <a class="nav-link" href="?id={{ indice_retornar }}">
              {% endif %}
            </a>
            </li>
            <li class="nav-item">
              {% if indice_avancar != ultima_posicao %}  
              <a class="nav-link" href="?id={{ indice_avancar }}">
              {% endif %}
            </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="container">

      <div class="row">

        <!-- Post Content Column -->
        <div class="col-lg-8">

          <!-- Author -->
          <p class="lead">
            by
            <a href="#">João Etchichury Soares e Rafael Oleques Nunes</a>
          </p>

          <hr>
          
          <div class="card my-4">
            <h5 class="card-header">
                Evolução 
            </h5>
            <div class="card-body">
                Registro do paciente: {{ registro }}
                <br><br>
                Data: {{ data }}
                <br><br>
                Evolucoes: {{ evolucao |safe}}
            </div>
          </div>
        </div>

        <!-- Sidebar Widgets Column -->
        <div class="col-md-4">
            <br><br>  
          <!-- Categories Widget -->
          <div class="card my-4">
            <h5 class="card-header">
              Categorias
            </h5>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <ul class="list-unstyled mb-0">
                    <li>
                        <a>
                          <div class="foo black"></div> &nbsp;
                          <span onclick="pega_sublinhado(this.id)" class ="word" id="procedure"> Procedimento </span>

                        </a>
                    </li>
                    <li>
                        <a>
                          <div class="foo green"></div> &nbsp; 
                          <span onclick="pega_sublinhado(this.id)" class ="word" id="diagnosis"> Diagnóstico </span>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="foo red "></div> &nbsp;
                            <span onclick="pega_sublinhado(this.id)" class ="word" id="medication"> Medicação </span>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="foo blue"> </div> &nbsp;
                            <span onclick="pega_sublinhado(this.id)" class ="word" id="anatomy"> Anatomia </span>
                        </a>
                    </li> 
                    <li>
                        <a>
                            <div class="foo purple"> </div> &nbsp;
                            <span onclick="pega_sublinhado(this.id)" class ="word" id="other"> Outros </span>
                            <span id="auxiliar" class="aux"></span>
                            <span id="procedure_" class="aux"></span>
                            <span id="diagnosis_" class="aux"></span>
                            <span id="medication_" class="aux"></span>
                            <span id="anatomy_" class="aux"></span>
                            <span id="other_" class="aux"></span>
                        </a>
                    </li>   
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="card my-4">
              <h5 class="card-header">
                Definição 
              </h5>
              <div class="card-body">
                <div id="nome"></div>

                <div id="id"></div>
                <div id="informacoes"></div>
                <br/>
                <!--<form name="valida" action="../valida" method="GET">-->
                    <input type="hidden" name="id" value="{{ indice }}"/> 
                    <input type="hidden" name="l" value="{{ lingua }}"/> 
               <!-- </form>-->
              </div>
          <div/>
        </div>

      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->

    <!-- Footer -->
    <footer class="py-2 bg-dark footer">
      <div class="container">
        <p class="m-0 text-center text-white">MeSHx-Notes | 
          <a class="text-white" target= '_blank' href="http://www.inf.pucrs.br/linatural/wordpress/"> Grupo de PLN - PUCRS  </a>
        </p>
      </div>
      <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  </body>
</html> 
