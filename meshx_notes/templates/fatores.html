<html lang="en">
<style>
  .procedure, .diagnosis, .medication, .anatomy, .other{
    border-bottom: 2px solid transparent;
    transition: border 1s linear;
  }
  .word {
  cursor: pointer;
  }
  .procedure{
    border-bottom-color: black;
  }
  .diagnosis{
    border-bottom-color: green;
  }
  .medication{
    border-bottom-color: red;
  }
  .anatomy{
    border-bottom-color: blue;
  }
  .other{
    border-bottom-color: #871F78;
  }
  .footer {
    /*position:absolute;*/
    bottom:-200;
    width:100%;
    height:40px;      /* Height of the footer */
    left: 0px;
    background:#6cf;
  }
  .menu {
    border-left: 1px solid transparent;
    border-left-color: gray;
    transition: border 1s linear;
  }
  .foo {
    float: left;
    width: 20px;
    height: 19px;
    margin: 0px;
    border: 2px solid rgba(0, 0, 0, 0.336);
  }
  .black {
    background: #000000;
  }
  .green {
    background: #00661a;
  }
  .red {
    background: #cc0404;
  }
  .blue {
    background: #0400dbf6;
  }
  .purple {
    background: #871F78;
  }
  .br {
    line-height: 150%;
  }
</style>
  <head>

    <script type="text/javascript">
      function sublinhar(k){
                var elemento = document.getElementById(k); 
                var conteudo = $('#'+k).text();  
                var classe =  document.getElementById('auxiliar').getAttribute("class");
                if(elemento.className.indexOf(classe) != -1){
                      elemento.className = "word"; 
                      salva_informacoes(k, conteudo, classe, 'exclui')
                  }   
                else{
                  if ( document.getElementById('auxiliar').getAttribute("class") != 'aux' ){
                      elemento.className = classe+" word"; 
                      salva_informacoes(k, conteudo, classe, '')
                  }
                } 
      }
      function pega_sublinhado(k){
                var elemento = document.getElementById('auxiliar');  
                elemento.className = k; 
      }
       function salva_informacoes(ID, nome, classe, acao)
      {
            var idElemento = []
            idElemento[0] =  'diagnosis_';
            idElemento[1] =  'medication_';
            idElemento[2] =  'procedure_';
            idElemento[3] =  'anatomy_';
            idElemento[4] =  'other_';
            var tipo
            for(var i=0; i<5; i++)
            {
                if(classe+"_" == idElemento[i])
                {
                  tipo =  idElemento[i];
                }
                verifica_vetores(idElemento[i], ID, nome, '');
            }
            //Se tiver algo nele, entao adiciona o novo com o que ja tinha
            if(document.getElementById(tipo+"informacao").value != 'aux')
            {    
              document.getElementById(tipo+"id").value = document.getElementById(tipo+"id").value+ID+" "
              document.getElementById(tipo+"informacao").value = document.getElementById(tipo+"informacao").value+nome+" "
            }
            else{
              //Se nao tiver nada, entao adiciona um novo
              document.getElementById(tipo+"id").value = ID+" "
              document.getElementById(tipo+"informacao").value = nome+" "
            }
            for(var i=0; i<5; i++)
              {
                  verifica_vetores(idElemento[i], '_', '_', 'pega_dados');
              }
            if(acao == 'exclui')
              for(var i=0; i<5; i++)
              {
                  verifica_vetores(idElemento[i], ID, nome, '');
              }
      }
      function verifica_vetores(idElemento, ID, nome, acao){
        var valoresID = document.getElementById(idElemento+"id").value;
        var valoresInformacao = document.getElementById(idElemento+"informacao").value; 

        if(valoresID != null)
        {
            var vetorID = valoresID.split(' ');
            var vetorInformacao = valoresInformacao.split(' ');
            var cont = 0;
            var new_vetorID = [];
            var new_vetorInformacao = [];
            var dadosID = [];
            var dadosInformacoes = [];
            for(var i=0; i<vetorID.length;i++)
            {              
              if (vetorID[i] != ID && valoresInformacao != 'aux')
              {
                new_vetorID[cont] = vetorID[i]
                new_vetorInformacao[cont] = vetorInformacao[i]
                cont++
              }
            }
            if(cont>=0 && valoresInformacao != 'aux')
            {
              valoresID = new_vetorID.join(' ');
              valoresInformacao = new_vetorInformacao.join(' ');

              document.getElementById(idElemento+"id").value = valoresID
              document.getElementById(idElemento+"informacao").value = valoresInformacao
              cont = 0;
            }
        }
    }
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>MeSHx-Notes</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!--ajax start -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">MeSHx-Notes</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">

            <li class="nav-item">
              {% if indice_retornar != -1 %}
              <a class="nav-link" href="?id={{ indice_retornar }}">
              {% endif %}
            </a>
            </li>
            <li class="nav-item">
              {% if indice_avancar != ultima_posicao %}  
              <a class="nav-link" href="?id={{ indice_avancar }}">
              {% endif %}
            </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="container">

      <div class="row">

        <!-- Post Content Column -->
        <div class="col-lg-8">

          <!-- Author -->
          <p class="lead">
            by
            <a href="#">João Etchichury Soares e Rafael Oleques Nunes</a>
          </p>

          <hr>
          
          <div class="card my-4">
            <h5 class="card-header">
                Evolução 
            </h5>
            <div class="card-body">
                Registro do paciente: {{ registro }}
                <br><br>
                Data: {{ data }}
                <br><br>
                Evolucoes: {{ evolucao |safe}}
            </div>
          </div>
        </div>

        <!-- Sidebar Widgets Column -->
        <div class="col-md-4">
            <br><br>  
          <!-- Categories Widget -->
          <div class="card my-4">
            <h5 class="card-header">
              Categorias
            </h5>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <ul class="list-unstyled mb-0">
                    <li>
                        <a>
                          <div class="foo black"></div> &nbsp;
                          <span onclick="pega_sublinhado(this.id)" class ="word" id="procedure"> Procedimento </span>

                        </a>
                    </li>
                    <li>
                        <a>
                          <div class="foo green"></div> &nbsp; 
                          <span onclick="pega_sublinhado(this.id)" class ="word" id="diagnosis"> Diagnóstico </span>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="foo red "></div> &nbsp;
                            <span onclick="pega_sublinhado(this.id)" class ="word" id="medication"> Medicação </span>
                        </a>
                    </li>
                    <li>
                        <a>
                            <div class="foo blue"> </div> &nbsp;
                            <span onclick="pega_sublinhado(this.id)" class ="word" id="anatomy"> Anatomia </span>
                        </a>
                    </li> 
                    <li>
                        <a>
                            <div class="foo purple"> </div> &nbsp;
                            <span onclick="pega_sublinhado(this.id)" class ="word" id="other"> Outros </span>
                            <span id="auxiliar" class="aux"></span>

                            <input id="procedure_id" type="hidden" name="procedure_id" value="aux"/> 
                            <input id="procedure_informacao" type="hidden" name="procedure_informacao" value="aux"/> 

                            <input id="diagnosis_id" type="hidden" name="diagnosis_id" value="aux"/> 
                            <input id="diagnosis_informacao" type="hidden" name="diagnosis_informacao" value="aux"/> 

                            <input id="medication_id" type="hidden" name="medication_id" value="aux"/> 
                            <input id="medication_informacao" type="hidden" name="medication_informacao" value="aux"/> 

                            <input id="anatomy_id" type="hidden" name="anatomy_id" value="aux"/> 
                            <input id="anatomy_informacao" type="hidden" name="anatomy_informacao" value="aux"/> 

                            <input id="other_id" type="hidden" name="other_id" value="aux"/> 
                            <input id="other_informacao" type="hidden" name="other_informacao" value="aux"/>
                        </a>
                    </li>   
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="card my-4">
              <h5 class="card-header">
                Definição 
              </h5>
              <div class="card-body">
              </div>
          <div/>
        </div>

      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->

    <!-- Footer -->
    <footer class="py-2 bg-dark footer">
      <div class="container">
        <p class="m-0 text-center text-white">MeSHx-Notes | 
          <a class="text-white" target= '_blank' href="http://www.inf.pucrs.br/linatural/wordpress/"> Grupo de PLN - PUCRS  </a>
        </p>
      </div>
      <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  </body>
</html> 
